//+------------------------------------------------------------------+
//|                           Первый самостоятельный вместе с НС.mq4 |
//|                        Copyright 2017, MetaQuotes Software Corp. |
//|                                            Автор:Вячеслав Нилов  |
//+------------------------------------------------------------------+
#include <iostream>
#include <cmath>
#include <ctime>
#include <cstdlib>
#include <string>
using namespace std;

double AccountBalance()
{
    return 10000.0;
}

void Buy(double price, int quantity)
{
    cout << "Buying " << quantity << " shares at $" << price << endl;
}

void Sell(double price, int quantity)
{
    cout << "Selling " << quantity << " shares at $" << price << endl;
}

void OnTick()
{
    double balance = AccountBalance();
    double price = 10.0;
    int quantity = 100;

    if (price < 9.0)
    {
        cout << "Price is too low, not buying" << endl;
    }
    else if (price > 11.0)
    {
        cout << "Price is too high, not buying" << endl;
    }
    else
    {
        double totalCost = price * quantity;
        if (totalCost > balance)
        {
            cout << "Not enough funds to buy" << endl;
        }
        else
        {
            Buy(price, quantity);
        }
    }
}

int main()
{
    srand(time(NULL));
    for (int i = 0; i < 10; i++)
    {
        double price = 8.0 + (rand() % 400) / 100.0;
        OnTick();
    }
    return 0;
}
